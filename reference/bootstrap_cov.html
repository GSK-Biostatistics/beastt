<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Bootstrap Covariate Data — bootstrap_cov • beastt</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Bootstrap Covariate Data — bootstrap_cov"><meta name="description" content="Bootstrap Covariate Data"><meta property="og:description" content="Bootstrap Covariate Data"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">beastt</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/binary.html">Binary Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/continuous.html">Normal Outcome (Known SD)</a></li>
    <li><a class="dropdown-item" href="../articles/tte.html">Time-to-Event Outcome</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/GSK-Biostatistics/beastt/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Bootstrap Covariate Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/GSK-Biostatistics/beastt/blob/main/R/binary-sim.R" class="external-link"><code>R/binary-sim.R</code></a></small>
      <div class="d-none name"><code>bootstrap_cov.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Bootstrap Covariate Data</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">bootstrap_cov</span><span class="op">(</span></span>
<span>  <span class="va">external_dat</span>,</span>
<span>  <span class="va">n</span>,</span>
<span>  imbal_var <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  imbal_prop <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ref_val <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-external-dat">external_dat<a class="anchor" aria-label="anchor" href="#arg-external-dat"></a></dt>
<dd><p>Data frame of the external data from which to bootstrap
covariate vectors</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>Number of rows in the output dataset</p></dd>


<dt id="arg-imbal-var">imbal_var<a class="anchor" aria-label="anchor" href="#arg-imbal-var"></a></dt>
<dd><p>Optional variable indicating which covariate's distribution
should be altered to incorporate imbalance compared to the external data.
If left <code>NULL</code>, the distributions of all covariates in the output dataset
will match the distributions in the external dataset. The imbalance
variable must be binary.</p></dd>


<dt id="arg-imbal-prop">imbal_prop<a class="anchor" aria-label="anchor" href="#arg-imbal-prop"></a></dt>
<dd><p>Optional imbalance proportion, required if an imbalance
variable is specified. This defines the proportion of individuals with the
reference value of the imbalance variable in the returned dataset. This
can either be a single proportion or a vector of proportions, in which case
a list of datasets is returned.</p></dd>


<dt id="arg-ref-val">ref_val<a class="anchor" aria-label="anchor" href="#arg-ref-val"></a></dt>
<dd><p>Optional value corresponding to the reference level of the
binary imbalance variable, if specified</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Data frame with the same number of columns as the external data frame
and n number of rows (if the length of <code>imbal_prop</code> is 0 or 1); otherwise,
a list of data frames with a length equal to that of <code>imbal_prop</code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Covariate data can be generated for <code>n</code> individuals enrolled in
the internal trial by bootstrap sampling entire covariate vectors from the
external data, thus preserving the correlation between the covariates. If
both <code>imbal_var</code> = <code>NULL</code> and <code>imbal_prop</code> = <code>NULL</code>, the function returns
a single data frame in which the distributions of each covariate align
with the covariate distributions from the external data (i.e., balanced
covariate distributions across the two trials). Alternatively, covariate
imbalance can be incorporated into the generated sample with respect to a
binary covariate (<code>imbal_var</code>) such that a specified proportion
(<code>imbal_prop</code>) of individuals in the resulting sample will have the
reference level (<code>ref_val</code>) of this imbalance covariate. In this case,
stratified bootstrap sampling is employed with the imbalance covariate as
the stratification factor.</p>
<p>Multiple samples with varying degrees of imbalance can be generated
simultaneously by defining <code>imbal_prop</code> to be a vector of values. The
function then returns a list of data frames with a length equal to the
number of specified imbalance proportions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Return one data frame with covariate distributions similar to external data</span></span></span>
<span class="r-in"><span><span class="va">samp_balance</span> <span class="op">&lt;-</span> <span class="fu">bootstrap_cov</span><span class="op">(</span><span class="va">ex_binary_df</span>, n <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Return a list of two data frames that incorporate imbalance w.r.t. covariate 2</span></span></span>
<span class="r-in"><span><span class="va">samp_imbalance</span> <span class="op">&lt;-</span> <span class="fu">bootstrap_cov</span><span class="op">(</span><span class="va">ex_binary_df</span>, n <span class="op">=</span> <span class="fl">1000</span>, imbal_var <span class="op">=</span> <span class="va">cov2</span>,</span></span>
<span class="r-in"><span>                                imbal_prop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.5</span><span class="op">)</span>, ref_val <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christina Fillmore, Ben Arancibia, Nate Bean, Abi Terry, GlaxoSmithKline Research &amp; Development Limited.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

