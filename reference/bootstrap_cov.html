<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Bootstrap Covariate Data — bootstrap_cov • beastt</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Bootstrap Covariate Data — bootstrap_cov"><meta property="og:description" content="Bootstrap Covariate Data"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">beastt</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/binary.html">Binary Outcome</a>
    </li>
    <li>
      <a href="../articles/continuous.html">Normal Outcome (Known SD)</a>
    </li>
    <li>
      <a href="../articles/tte.html">Time-to-Event Outcome</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/GSK-Biostatistics/beastt/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Bootstrap Covariate Data</h1>
    <small class="dont-index">Source: <a href="https://github.com/GSK-Biostatistics/beastt/blob/main/R/binary-sim.R" class="external-link"><code>R/binary-sim.R</code></a></small>
    <div class="hidden name"><code>bootstrap_cov.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Bootstrap Covariate Data</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">bootstrap_cov</span><span class="op">(</span></span>
<span>  <span class="va">external_dat</span>,</span>
<span>  <span class="va">n</span>,</span>
<span>  imbal_var <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  imbal_prop <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ref_val <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-external-dat">external_dat<a class="anchor" aria-label="anchor" href="#arg-external-dat"></a></dt>
<dd><p>Data frame of the external data from which to bootstrap
covariate vectors</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>Number of rows in the output dataset</p></dd>


<dt id="arg-imbal-var">imbal_var<a class="anchor" aria-label="anchor" href="#arg-imbal-var"></a></dt>
<dd><p>Optional variable indicating which covariate's distribution
should be altered to incorporate imbalance compared to the external data.
If left <code>NULL</code>, the distributions of all covariates in the output dataset
will match the distributions in the external dataset. The imbalance
variable must be binary.</p></dd>


<dt id="arg-imbal-prop">imbal_prop<a class="anchor" aria-label="anchor" href="#arg-imbal-prop"></a></dt>
<dd><p>Optional imbalance proportion, required if an imbalance
variable is specified. This defines the proportion of individuals with the
reference value of the imbalance variable in the returned dataset. This
can either be a single proportion or a vector of proportions, in which case
a list of datasets is returned.</p></dd>


<dt id="arg-ref-val">ref_val<a class="anchor" aria-label="anchor" href="#arg-ref-val"></a></dt>
<dd><p>Optional value corresponding to the reference level of the
binary imbalance variable, if specified</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Data frame with the same number of columns as the external data frame
and n number of rows (if the length of <code>imbal_prop</code> is 0 or 1); otherwise,
a list of data frames with a length equal to that of <code>imbal_prop</code></p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Covariate data can be generated for <code>n</code> individuals enrolled in
the internal trial by bootstrap sampling entire covariate vectors from the
external data, thus preserving the correlation between the covariates. If
both <code>imbal_var</code> = <code>NULL</code> and <code>imbal_prop</code> = <code>NULL</code>, the function returns
a single data frame in which the distributions of each covariate align
with the covariate distributions from the external data (i.e., balanced
covariate distributions across the two trials). Alternatively, covariate
imbalance can be incorporated into the generated sample with respect to a
binary covariate (<code>imbal_var</code>) such that a specified proportion
(<code>imbal_prop</code>) of individuals in the resulting sample will have the
reference level (<code>ref_val</code>) of this imbalance covariate. In this case,
stratified bootstrap sampling is employed with the imbalance covariate as
the stratification factor.</p>
<p>Multiple samples with varying degrees of imbalance can be generated
simultaneously by defining <code>imbal_prop</code> to be a vector of values. The
function then returns a list of data frames with a length equal to the
number of specified imbalance proportions.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Return one data frame with covariate distributions similar to external data</span></span></span>
<span class="r-in"><span><span class="va">samp_balance</span> <span class="op">&lt;-</span> <span class="fu">bootstrap_cov</span><span class="op">(</span><span class="va">ex_binary_df</span>, n <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Return a list of two data frames that incorporate imbalance w.r.t. covariate 2</span></span></span>
<span class="r-in"><span><span class="va">samp_imbalance</span> <span class="op">&lt;-</span> <span class="fu">bootstrap_cov</span><span class="op">(</span><span class="va">ex_binary_df</span>, n <span class="op">=</span> <span class="fl">1000</span>, imbal_var <span class="op">=</span> <span class="va">cov2</span>,</span></span>
<span class="r-in"><span>                                imbal_prop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.5</span><span class="op">)</span>, ref_val <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Christina Fillmore, Nate Bean, Abi Terry, Ben Arancibia, GlaxoSmithKline Research &amp; Development Limited.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

